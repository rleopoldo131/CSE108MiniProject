{"ast":null,"code":"var _jsxFileName = \"/Users/christopherhuang/Desktop/GitHub/Info2Go/CSE108MiniProject/CSE108MiniProject1/frontend/src/pages/StudentPage/MyCourses.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./MyCourses.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyCourses = () => {\n  _s();\n  const [myCourses, setMyCourses] = useState([]);\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const fetchMyCourses = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.warn(\"No token found. User may not be logged in.\");\n      return;\n    }\n    const headers = {\n      Authorization: `Bearer ${token}`\n    };\n    try {\n      const res = await axios.get(\"/api/student/courses\", {\n        headers\n      });\n      setMyCourses(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch my courses:\", err);\n    }\n  };\n  const handleDrop = async courseId => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      await axios.post(\"/api/student/drop\", {\n        course_id: courseId\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchMyCourses();\n    } catch (err) {\n      console.error(\"Failed to drop course:\", err);\n    }\n  };\n  useEffect(() => {\n    fetchMyCourses();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"courses-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"courses-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-to-dashboard-btn\",\n        onClick: () => navigate(\"/studentpage\"),\n        children: \"Back to Student Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Enrolled Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"course-search\",\n        placeholder: \"Search my courses...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), myCourses.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You are not enrolled in any courses.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"course-list\",\n        children: myCourses.filter(course => course.title.toLowerCase().includes(searchTerm.toLowerCase())).map(course => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: course.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this), \" \\u2014 Professor: \", course.teacher, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 80\n          }, this), \"Time: \", course.time, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 38\n          }, this), \"Capacity: \", course.capacity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDrop(course.id),\n            children: \"Drop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }, this)]\n        }, course.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(MyCourses, \"kA8sl/LoeIta9SxRKI8FFy0x6Ic=\", false, function () {\n  return [useNavigate];\n});\n_c = MyCourses;\nexport default MyCourses;\nvar _c;\n$RefreshReg$(_c, \"MyCourses\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","MyCourses","_s","myCourses","setMyCourses","navigate","searchTerm","setSearchTerm","fetchMyCourses","token","localStorage","getItem","console","warn","headers","Authorization","res","get","data","err","error","handleDrop","courseId","post","course_id","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","length","filter","course","title","toLowerCase","includes","map","teacher","time","capacity","id","_c","$RefreshReg$"],"sources":["/Users/christopherhuang/Desktop/GitHub/Info2Go/CSE108MiniProject/CSE108MiniProject1/frontend/src/pages/StudentPage/MyCourses.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\"; \nimport \"./MyCourses.css\";\n\nconst MyCourses = () => {\n  const [myCourses, setMyCourses] = useState([]);\n  const navigate = useNavigate(); \n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n\n  const fetchMyCourses = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.warn(\"No token found. User may not be logged in.\");\n      return;\n    }\n\n    const headers = {\n      Authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const res = await axios.get(\"/api/student/courses\", { headers });\n      setMyCourses(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch my courses:\", err);\n    }\n  };\n\n  const handleDrop = async (courseId) => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      await axios.post(\n        \"/api/student/drop\",\n        { course_id: courseId },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n      fetchMyCourses(); \n    } catch (err) {\n      console.error(\"Failed to drop course:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchMyCourses();\n  }, []);\n\n  return (\n    <div className=\"courses-wrapper\">\n      <div className=\"courses-card\">\n        <button className=\"back-to-dashboard-btn\" onClick={() => navigate(\"/studentpage\")}>\n          Back to Student Dashboard\n        </button>\n\n        <h2>My Enrolled Courses</h2>\n\n        <input\n          type=\"text\"\n          className=\"course-search\"\n          placeholder=\"Search my courses...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n\n        {myCourses.length === 0 ? (\n          <p>You are not enrolled in any courses.</p>\n        ) : (\n          <ul className=\"course-list\">\n            {myCourses\n              .filter((course) =>\n                course.title.toLowerCase().includes(searchTerm.toLowerCase())\n              )\n              .map((course) => (\n                <li key={course.id}>\n                  <strong>{course.title}</strong> â€” Professor: {course.teacher}<br />\n                  Time: {course.time}<br />\n                  Capacity: {course.capacity}<br />\n                  <button onClick={() => handleDrop(course.id)}>Drop</button>\n                </li>\n              ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );  \n};\n\nexport default MyCourses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}